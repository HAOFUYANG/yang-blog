<html></html>
<script type="text/javascript">
  function TreeNode(val) {
    this.val = val;
    this.left = this.right = null;
  }
  // const preorder = [3,9,20,15,7] //前序 节点是1
  // const inorder = [9,3,15,20,7] //中序
  // var reConstructBinaryTree = (preorder, inorder)=> {
  //       if(preorder.length === 0){
  //           return null;
  //       }
  //       if(preorder.length === 1){
  //           return new TreeNode(preorder[0]);
  //       }
  //       // 找到根节点
  //       let rootVal = preorder[0]
  //       //跟节点在中序遍历中的索引
  //       let index = inorder.indexOf(rootVal)
  //      //先序左子树
  //       let preLeft = preorder.slice(1,index+1)
  //       //先序右子树
  //       let preRight = preorder.slice(index+1)
  //       //中序左子树
  //       let inLeft = inorder.slice(0,index)
  //       //中序右子树
  //       let inRight = inorder.slice(index+1)
  //       // 构建二叉树
  //       const node  = new TreeNode(rootVal)
  //       node.left = reConstructBinaryTree(preLeft,inLeft)
  //       node.right = reConstructBinaryTree(preRight,inRight)
  //       return node
  //   }
  //   reConstructBinaryTree(preorder, inorder)
  //   console.log('object :>> ', reConstructBinaryTree(preorder, inorder));

  var preorder = [1, 2, 4, 5, 3, 6, 7]
  var  postorder = [4, 5, 2, 6, 7, 3, 1];
  var constructFromPrePost = function (preorder, postorder) {
    if (preorder.length === 0) {
      return null;
    }
    if (preorder.length === 1) {
      return new TreeNode(preorder[0]);
    }
    
    let head = preorder[0];
    let preLeftHead = preorder[1];
    let index = postorder.indexOf(preLeftHead);
    let preLeft = preorder.slice(1, index + 2);
    let preRight = preorder.slice(index + 2);
    let postLeft = postorder.slice(0, index+1);
    //?
    let postRight = postorder.slice(index+1, postorder.length - 1);
    let root = new TreeNode(head);
    root.left = constructFromPrePost(preLeft,postLeft)
    root.right = constructFromPrePost(preRight,postRight)
    return root
  };
  constructFromPrePost(preorder, postorder);
  console.log(
    "constructFromPrePost(preorder,postorder) :>> ",
    constructFromPrePost(preorder, postorder)
  );
</script>
