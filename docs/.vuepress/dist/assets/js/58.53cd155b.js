(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{505:function(t,e,s){"use strict";s.r(e);var v=s(59),_=Object(v.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"websocket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket"}},[t._v("#")]),t._v(" webSocket")]),t._v(" "),s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("ul",[s("li",[t._v("WebSocket是一种在单个TCP连接上进行全双工通信的协议")]),t._v(" "),s("li",[t._v("Websocket 通过HTTP/1.1 协议的101状态码进行握手")]),t._v(" "),s("li",[t._v("webSocket 和 http 都是应用层，支持端对端的通讯。可以由服务端发起，也可以由客户端发起。"),s("br")])]),t._v(" "),s("p",[s("strong",[t._v("常见的应用场景")]),t._v("：消息通知，直播讨论区，聊天室，协同编辑")]),t._v(" "),s("h3",{attrs:{id:"websocket-建立连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket-建立连接"}},[t._v("#")]),t._v(" webSocket 建立连接")]),t._v(" "),s("p",[t._v("会先发起一个 http 请求，根服务端建立连接。连接成功之后再升级为 webSocket 协议，然后再通讯")]),t._v(" "),s("p",[s("img",{attrs:{src:"/http/ws%E8%BF%9E%E6%8E%A5.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"websocket-和-http-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket-和-http-区别"}},[t._v("#")]),t._v(" webSocket 和 http 区别")]),t._v(" "),s("ul",[s("li",[t._v("协议名称不同——websccoket是 "),s("code",[t._v("ws")]),t._v(" 和 http是"),s("code",[t._v("http")])]),t._v(" "),s("li",[t._v("http 一般只能浏览器发起请求，webSocket 可以双端发起请求")]),t._v(" "),s("li",[t._v("webSocket 无跨域限制")]),t._v(" "),s("li",[t._v("webSocket 通过 "),s("code",[t._v("send")]),t._v(" 和 "),s("code",[t._v("onmessage")]),t._v(" 进行通讯，http 通过 "),s("code",[t._v("req")]),t._v(" 和 "),s("code",[t._v("res")]),t._v(" 通讯")])]),t._v(" "),s("h3",{attrs:{id:"wss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wss"}},[t._v("#")]),t._v(" wss")]),t._v(" "),s("p",[s("code",[t._v("ws")]),t._v(" 可以升级为 "),s("code",[t._v("wss")]),t._v(" 协议，像 "),s("code",[t._v("http")]),t._v(" 升级到 "),s("code",[t._v("https")]),t._v(" 一样，增加 "),s("code",[t._v("SSL")]),t._v(" 安全协议。")])])}),[],!1,null,null,null);e.default=_.exports}}]);