---
{
  'tile':"Vite"
}
---
# Vite

## Vite为什么快

这个问题前可以先了解webpack为什么慢？

### webpack为什么慢？

- 浏览器中没有模块化的设计，所以webpack需要吧代码编译进一个js文件中然后浏览器才可以解析使用
- 所以当我们启动项目时，webpack需要从入口文件去索引整个项目的文件，编译成一个或多个单独的js文件，即使采用了代码拆分，也需要一次生成所有路由下的编译后文件，这也导致了服务启动时间随着项目复杂度而指数增长
- 所以说其实代码拆分对开发模式下的性能没有帮助

![](/vite/webpack.png)

### vite怎么做的

- Vite启动开发服务器的时候并不需要提前编译文件
- 而是在浏览器请求对应URL的时候，再提供对应的文件
- 这就实现了在使用了路由懒加载的项目中，仅提供对应路由下的模块的编译文件，而没有索引全部代码的这一过程
- 项目启动时间始终为常量级。并不会随着项目复杂度变高而一直增长

![](/vite/vite.png)

#### Esbuild

- Vite中是并没有loader功能，Vite使用esbuild作为部分文件类型的解析器(如 TSX & TypeScript),
- Vite 并不会与 webpack 一样，提前将所有文件编译为浏览器可以接受的类型，而是在接收到浏览器发起的 http 请求之后再去编译对应文件，提供给浏览器
