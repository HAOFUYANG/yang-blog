{"remainingRequest":"/Users/haofuyang/Desktop/yang-blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/haofuyang/Desktop/yang-blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/haofuyang/Desktop/yang-blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haofuyang/Desktop/yang-blog/node_modules/vuepress-theme-vt/components/VTSwitchAppearance.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/vuepress-theme-vt/components/VTSwitchAppearance.vue","mtime":1658561763877},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/cache-loader/dist/cjs.js","mtime":1658561742978},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/babel-loader/lib/index.js","mtime":1658561742936},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/cache-loader/dist/cjs.js","mtime":1658561742978},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/vue-loader/lib/index.js","mtime":1658561743504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZUU3dpdGNoIGZyb20gIi4vVlRTd2l0Y2gudnVlIjsKaW1wb3J0IFZUSWNvblN1biBmcm9tICIuL2ljb25zL1ZUSWNvblN1bi52dWUiOwppbXBvcnQgVlRJY29uTW9vbiBmcm9tICIuL2ljb25zL1ZUSWNvbk1vb24udnVlIjsKdmFyIHN0b3JhZ2VLZXkgPSAiLS1waWEtdGhlbWUtYXBwZWFyYW5jZS0tIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFZUU3dpdGNoOiBWVFN3aXRjaCwKICAgIFZUSWNvblN1bjogVlRJY29uU3VuLAogICAgVlRJY29uTW9vbjogVlRJY29uTW9vbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRGFyazogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgdGhpcy51c2VyUHJlZmVyZW5jZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICJhdXRvIjsKICAgICAgdGhpcy5xdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIik7CiAgICAgIHRoaXMuaXNEYXJrID0gdGhpcy51c2VyUHJlZmVyZW5jZSA9PT0gImF1dG8iID8gdGhpcy5xdWVyeS5tYXRjaGVzIDogdGhpcy51c2VyUHJlZmVyZW5jZSA9PT0gImRhcmsiOwoKICAgICAgdGhpcy5xdWVyeS5vbmNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKF90aGlzLnVzZXJQcmVmZXJlbmNlID09PSAiYXV0byIpIHsKICAgICAgICAgIF90aGlzLnNldENsYXNzKF90aGlzLmlzRGFyayA9IGUubWF0Y2hlcyk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdGhpcy5zZXRDbGFzcyh0aGlzLmlzRGFyayk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRDbGFzczogZnVuY3Rpb24gc2V0Q2xhc3MoZGFyaykgewogICAgICBjb25zb2xlLmxvZygiZGFyayIsIGRhcmspOwogICAgICB2YXIgY2xhc3NMaXN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdDsKICAgICAgY2xhc3NMaXN0W2RhcmsgPyAiYWRkIiA6ICJyZW1vdmUiXSgiZGFyayIpOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICB0aGlzLnNldENsYXNzKHRoaXMuaXNEYXJrID0gIXRoaXMuaXNEYXJrKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgdGhpcy51c2VyUHJlZmVyZW5jZSA9IHRoaXMuaXNEYXJrID8gdGhpcy5xdWVyeS5tYXRjaGVzID8gImF1dG8iIDogImRhcmsiIDogdGhpcy5xdWVyeS5tYXRjaGVzID8gImxpZ2h0IiA6ICJhdXRvIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AACA;AACA;AACA;AAEA;AAEA;AACAA;AACAC,sBADA;AAEAC,wBAFA;AAGAC;AAHA,GADA;AAMAC,MANA,kBAMA;AACA;AACAC;AADA;AAGA,GAVA;AAWAC,SAXA,qBAWA;AAAA;;AACA;AACA;AACA;AACA,oBACA,iCACA,kBADA,GAEA,8BAHA;;AAKA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA;AACA,GA5BA;AA6BAC;AACAC,YADA,oBACAC,IADA,EACA;AACAC;AAEA;AACAC;AACA,KANA;AAOAC,UAPA,oBAOA;AACA;AACAC,2BACAC,UADA,EAEA,oCACA,qBACA,MADA,GAEA,MAHA,GAIA,qBACA,OADA,GAEA,MARA;AAUA;AAnBA;AA7BA","names":["components","VTSwitch","VTIconSun","VTIconMoon","data","isDark","created","methods","setClass","dark","console","classList","toggle","localStorage","storageKey"],"sourceRoot":"node_modules/vuepress-theme-vt/components","sources":["VTSwitchAppearance.vue"],"sourcesContent":["<script>\nimport VTSwitch from \"./VTSwitch.vue\";\nimport VTIconSun from \"./icons/VTIconSun.vue\";\nimport VTIconMoon from \"./icons/VTIconMoon.vue\";\n\nconst storageKey = \"--pia-theme-appearance--\";\n\nexport default {\n  components: {\n    VTSwitch,\n    VTIconSun,\n    VTIconMoon,\n  },\n  data() {\n    return {\n      isDark: false,\n    };\n  },\n  created() {\n    if (typeof window !== \"undefined\") {\n      this.userPreference = localStorage.getItem(storageKey) || \"auto\";\n      this.query = window.matchMedia(`(prefers-color-scheme: dark)`);\n      this.isDark =\n        this.userPreference === \"auto\"\n          ? this.query.matches\n          : this.userPreference === \"dark\";\n\n      this.query.onchange = (e) => {\n        if (this.userPreference === \"auto\") {\n          this.setClass((this.isDark = e.matches));\n        }\n      };\n\n      this.setClass(this.isDark);\n    }\n  },\n  methods: {\n    setClass(dark) {\n      console.log(\"dark\", dark);\n\n      const classList = document.documentElement.classList;\n      classList[dark ? \"add\" : \"remove\"](\"dark\");\n    },\n    toggle() {\n      this.setClass((this.isDark = !this.isDark));\n      localStorage.setItem(\n        storageKey,\n        (this.userPreference = this.isDark\n          ? this.query.matches\n            ? \"auto\"\n            : \"dark\"\n          : this.query.matches\n          ? \"light\"\n          : \"auto\")\n      );\n    },\n  },\n};\n</script>\n\n<template>\n  <VTSwitch\n    class=\"vt-switch-appearance\"\n    aria-label=\"toggle dark mode\"\n    @click.native=\"toggle\"\n  >\n    <VTIconSun class=\"vt-switch-appearance-sun\" />\n    <VTIconMoon class=\"vt-switch-appearance-moon\" />\n  </VTSwitch>\n</template>\n\n<style>\n.vt-switch-appearance-sun {\n  opacity: 1;\n}\n.vt-switch-appearance-moon {\n  opacity: 0;\n}\n\n.dark .vt-switch-appearance-sun {\n  opacity: 0;\n}\n.dark .vt-switch-appearance-moon {\n  opacity: 1;\n}\n\n.dark .vt-switch-appearance .vt-switch-check {\n  transform: translateX(18px);\n}\n</style>"]}]}