{"remainingRequest":"/Users/haofuyang/Desktop/yang-blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haofuyang/Desktop/yang-blog/node_modules/vuepress-theme-vt/plugins/fulltext-search/components/SearchBox.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/vuepress-theme-vt/plugins/fulltext-search/components/SearchBox.vue","mtime":1658561763877},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/css-loader/dist/cjs.js","mtime":1658561743226},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1658561743504},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/postcss-loader/src/index.js","mtime":1658561743382},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/stylus-loader/index.js","mtime":1658561743917},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/cache-loader/dist/cjs.js","mtime":1658561742978},{"path":"/Users/haofuyang/Desktop/yang-blog/node_modules/vue-loader/lib/index.js","mtime":1658561743504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNlYXJjaC1ib3ggewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWFyZ2luLXJpZ2h0OiAxcmVtOwoKICBpbnB1dCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12cC1jLWJnKTsKICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC41czsKICAgIGN1cnNvcjogdGV4dDsKICAgIHdpZHRoOiAxMHJlbTsKICAgIGhlaWdodDogMnJlbTsKICAgIGNvbG9yOiBsaWdodGVuKCR0ZXh0Q29sb3IsIDI1JSk7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBib3JkZXI6IG5vbmU7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAycmVtOwogICAgcGFkZGluZzogMCAwLjVyZW0gMCAycmVtOwogICAgb3V0bGluZTogbm9uZTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDEuMnJlbTsKCiAgICAmOjpwbGFjZWhvbGRlciB7CiAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMnMgZWFzZTsKICAgIH0KCiAgICAmOmZvY3VzIHsKICAgICAgY3Vyc29yOiBhdXRvOwogICAgICBib3JkZXItY29sb3I6IHZhcigtLWMtYnJhbmQpOwoKICAgICAgJjo6cGxhY2Vob2xkZXIgewogICAgICAgIGNvbG9yOiB2YXIoLS1jLWJyYW5kKTsKICAgICAgfQoKICAgICAgJn4gLnNlYXJjaC1pY29uIHsKICAgICAgICBjb2xvcjogdmFyKC0tYy1icmFuZCk7CiAgICAgIH0KICAgIH0KCiAgICAmLmZvY3VzZWQgewogICAgICAvLyBib3JkZXItYm90dG9tOiAxcHggc29saWQgZGFya2VuKHZhcigtLXZwLWMtZGl2aWRlci1saWdodCksIDEwJSk7CiAgICAgIC8vIGJvcmRlcjogMXB4IHNvbGlkIGRhcmtlbih2YXIoLS12cC1jLWRpdmlkZXItbGlnaHQpLCAxMCUpOwogICAgICAvLyBib3JkZXItcmFkaXVzOiAxcmVtOwogICAgfQogIH0KCiAgLnNlYXJjaC1pY29uIHsKICAgIGNvbG9yOiB2YXIoLS12cC1jLXRleHQtMik7CiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjVzOwogICAgZmlsbDogY3VycmVudENvbG9yOwogICAgd2lkdGg6IDIwcHg7CiAgICBoZWlnaHQ6IDIwcHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDVweDsKICAgIGxlZnQ6IDNweDsKICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICB9CgogIC5zZWFyY2gtY29tbWFuZCB7CiAgICBtYXJnaW4tcmlnaHQ6IDFyZW07CiAgfQoKICAuc3VnZ2VzdGlvbnMgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnAtYy1iZyk7CiAgICBtaW4td2lkdGg6IDUwMHB4OwogICAgbWF4LXdpZHRoOiA3MDBweDsKICAgIG1heC1oZWlnaHQ6IDYwMHB4OwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAycmVtOwogICAgYm94LXNoYWRvdzogdmFyKC0tdnAtc2hhZG93LTMpOwogICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgcGFkZGluZzogMC40cmVtOwogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogICAgb3ZlcmZsb3c6IHNjcm9sbDsKCiAgICAmLmFsaWduLXJpZ2h0IHsKICAgICAgcmlnaHQ6IDA7CiAgICB9CiAgfQoKICAuc3VnZ2VzdGlvbiB7CiAgICBsZXR0ZXItc3BhY2luZzogMC4ycHg7CiAgICBsaW5lLWhlaWdodDogMS40OwogICAgLy8gcGFkZGluZyAwLjRyZW0gMC42cmVtCiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB3aWR0aDogMTAwJTsKCiAgICBhIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7CiAgICAgIGNvbG9yOiAkdGV4dENvbG9yOwogICAgICB3aWR0aDogMTAwJTsKCiAgICAgIC5wYXJlbnQtcGFnZS10aXRsZSB7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYy1icmFuZCk7CiAgICAgICAgcGFkZGluZzogNXB4OwogICAgICB9CgogICAgICAuc3VnZ2VzdGlvbi1yb3cgewogICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgZGlzcGxheTogdGFibGU7CgogICAgICAgIC5wYWdlLXRpdGxlIHsKICAgICAgICAgIGZvbnQtc2l6ZTogcmVtOwogICAgICAgICAgd2lkdGg6IDM1JTsKICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICRib3JkZXJDb2xvcjsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7CiAgICAgICAgICBib3JkZXItbGVmdDogbm9uZTsKICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7CiAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgIHBhZGRpbmc6IDVweDsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7CiAgICAgICAgfQoKICAgICAgICAuc3VnZ2VzdGlvbi1jb250ZW50IHsKICAgICAgICAgIC5oaWdobGlnaHQgewogICAgICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICAgICAgbWFyZ2luOiAwIDNweDsKICAgICAgICAgICAgcGFkZGluZzogMCAzcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwgNzIsIDIwNiwgMC4yKTsKICAgICAgICAgIH0KCiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAkYm9yZGVyQ29sb3I7CiAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgICAgYm9yZGVyLXJpZ2h0OiBub25lOwogICAgICAgICAgd2lkdGg6IDY1JTsKICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7CiAgICAgICAgICBwYWRkaW5nOiAxMHB4OwoKICAgICAgICAgIC5oZWFkZXIgewogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgICYuZm9jdXNlZCB7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmM2Y0ZjU7CiAgICB9CiAgfQp9CgouZGFyayAuc2VhcmNoLWJveCAuc3VnZ2VzdGlvbnMgewogIGJhY2tncm91bmQ6ICNmZmY7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiAkTVFOYXJyb3cpIHsKICAuc2VhcmNoLWJveCB7CiAgICBpbnB1dCB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgd2lkdGg6IDA7CiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKCiAgICAgICY6Zm9jdXMgewogICAgICAgIGN1cnNvcjogdGV4dDsKICAgICAgICBsZWZ0OiAwOwogICAgICAgIHdpZHRoOiAxMHJlbTsKICAgICAgfQogICAgfQoKICAgIC5zdWdnZXN0aW9ucyB7CiAgICAgIGJhY2tncm91bmQtY29sb3I6IGFyKC0tdnAtYy1iZyk7CiAgICAgIG1pbi13aWR0aDogMTAwdnc7CiAgICAgIG1heC13aWR0aDogMTAwdnc7CiAgICB9CgogICAgLnNlYXJjaC1jb21tYW5kIHsKICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgfQogIH0KfQoKLy8gTWF0Y2ggSUUxMQpAbWVkaWEgYWxsIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6IG5vbmUpIHsKICAuc2VhcmNoLWJveCBpbnB1dCB7CiAgICBoZWlnaHQ6IDJyZW07CiAgfQp9CgpAbWVkaWEgKG1heC13aWR0aDogJE1RTmFycm93KSBhbmQgKG1pbi13aWR0aDogJE1RTW9iaWxlKSB7CiAgLnNlYXJjaC1ib3ggewogICAgLnN1Z2dlc3Rpb25zIHsKICAgICAgbGVmdDogMDsKICAgIH0KICB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiAkTVFNb2JpbGUpIHsKICAuc2VhcmNoLWJveCB7CiAgICBtYXJnaW4tcmlnaHQ6IDA7CgogICAgaW5wdXQgewogICAgICBsZWZ0OiAxcmVtOwogICAgfQoKICAgIC5zdWdnZXN0aW9ucyB7CiAgICAgIHJpZ2h0OiAwOwogICAgfQogIH0KfQoKQG1lZGlhIChtYXgtd2lkdGg6ICRNUU1vYmlsZU5hcnJvdykgewogIC5zZWFyY2gtYm94IHsKICAgIC5zdWdnZXN0aW9ucyB7CiAgICAgIHdpZHRoOiBjYWxjKDEwMHZ3IC0gNHJlbSk7CiAgICB9CgogICAgaW5wdXQ6Zm9jdXMgewogICAgICB3aWR0aDogOHJlbTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+SA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SearchBox.vue","sourceRoot":"node_modules/vuepress-theme-vt/plugins/fulltext-search/components","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      ref=\"input\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      :class=\"{ focused: focused }\"\n      :placeholder=\"placeholder\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @input=\"query = $event.target.value\"\n      @focus=\"focused = true\"\n      @blur=\"focused = false\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\"\n    />\n    <IconSearch class=\"search-icon\" @click.native=\"expandSearchInput\" />\n    <SearchCommand class=\"search-command\" @onCommand=\"expandSearchInput\" />\n    <ul\n      v-if=\"showSuggestions\"\n      class=\"suggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\"\n    >\n      <li\n        v-for=\"(s, i) in suggestions\"\n        :key=\"i\"\n        class=\"suggestion\"\n        :class=\"{ focused: i === focusIndex }\"\n        @mousedown=\"go(i)\"\n        @mouseenter=\"focus(i)\"\n      >\n        <a :href=\"s.path + s.slug\" @click.prevent>\n          <div\n            v-if=\"s.parentPageTitle\"\n            class=\"parent-page-title\"\n            v-html=\"s.parentPageTitle\"\n          />\n          <div class=\"suggestion-row\">\n            <div class=\"page-title\">{{ s.title || s.path }}</div>\n            <div class=\"suggestion-content\">\n              <!-- prettier-ignore -->\n              <div v-if=\"s.headingStr\" class=\"header\">\n                {{ s.headingDisplay.prefix }}<span class=\"highlight\">{{ s.headingDisplay.highlightedContent }}</span>{{ s.headingDisplay.suffix }}\n              </div>\n              <!-- prettier-ignore -->\n              <div v-if=\"s.contentStr\">\n                {{ s.contentDisplay.prefix }}<span class=\"highlight\">{{ s.contentDisplay.highlightedContent }}</span>{{ s.contentDisplay.suffix }}\n              </div>\n            </div>\n          </div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport flexsearchSvc from \"../services/flexsearchSvc\";\nimport IconSearch from \"./IconSearch.vue\";\nimport SearchCommand from \"./SearchCommand.vue\";\n\n// see https://vuepress.vuejs.org/plugin/option-api.html#clientdynamicmodules\nimport hooks from \"@dynamic/hooks\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  name: \"SearchBox\",\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0,\n      suggestions: null,\n    };\n  },\n  components: {\n    IconSearch,\n    SearchCommand,\n  },\n  computed: {\n    queryTerms() {\n      if (!this.query) return [];\n      const result = flexsearchSvc\n        .normalizeString(this.query)\n        .split(/[^\\p{L}\\p{N}_]+/iu)\n        .filter((t) => t);\n      return result;\n    },\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      const repo = this.$site.repo ? 1 : 0;\n      return navCount + repo <= 2;\n    },\n    placeholder() {\n      return (\n        this.$localeConfig.searchPlaceholder ||\n        this.$site.themeConfig.searchPlaceholder ||\n        \"Search\"\n      );\n    },\n  },\n  watch: {\n    query() {\n      this.getSuggestions();\n    },\n    $localePath() {\n      this.bindIndexPages();\n    },\n  },\n  /* global OPTIONS */\n  mounted() {\n    this.bindIndexPages();\n    // set query from URL\n    const params = this.urlParams();\n    if (params) {\n      const query = params.get(\"query\");\n      if (query) {\n        this.query = decodeURI(query);\n        this.focused = true;\n      }\n    }\n  },\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onHotkey);\n  },\n  methods: {\n    bindIndexPages() {\n      const options = OPTIONS || {};\n      const locales = this.$site.locales;\n\n      /**\n       * Handle search scope for i18n.\n       */\n      if (typeof locales === \"object\") {\n        const nonMatchedLocales = Object.keys(locales).filter(\n          (key) => key !== this.$localePath\n        );\n        const indexPages = this.$site.pages.filter((page) =>\n          nonMatchedLocales.every((locale) => {\n            if (locale === \"/\") {\n              return page.path.startsWith(this.$localePath);\n            }\n            return !page.path.startsWith(locale);\n          })\n        );\n        flexsearchSvc.buildIndex(indexPages, options);\n      } else {\n        flexsearchSvc.buildIndex(this.$site.pages, options);\n      }\n\n      document.addEventListener(\"keydown\", this.onHotkey);\n    },\n    async getSuggestions() {\n      if (!this.query || !this.queryTerms.length) {\n        this.suggestions = [];\n        return;\n      }\n      let suggestions = await flexsearchSvc.match(\n        this.query,\n        this.queryTerms,\n        this.$site.themeConfig.searchMaxSuggestions || SEARCH_MAX_SUGGESTIONS\n      );\n      if (hooks.processSuggestions) {\n        // augment suggestions with user-provided function\n        suggestions = await hooks.processSuggestions(\n          suggestions,\n          this.query,\n          this.queryTerms\n        );\n      }\n      this.suggestions = suggestions.map((s) => ({\n        ...s,\n        headingDisplay: highlight(s.headingStr, s.headingHighlight),\n        contentDisplay: highlight(s.contentStr, s.contentHighlight),\n      }));\n    },\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n    isSearchable(page) {\n      let searchPaths = SEARCH_PATHS;\n      // all paths searchables\n      if (searchPaths === null) {\n        return true;\n      }\n      searchPaths = Array.isArray(searchPaths)\n        ? searchPaths\n        : new Array(searchPaths);\n      return (\n        searchPaths.filter((path) => {\n          return page.path.match(path);\n        }).length > 0\n      );\n    },\n    onHotkey(event) {\n      if (\n        event.srcElement === document.body &&\n        SEARCH_HOTKEYS.includes(event.key)\n      ) {\n        this.$refs.input.focus();\n        event.preventDefault();\n      }\n    },\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n    go(i) {\n      if (!this.showSuggestions) {\n        return;\n      }\n      if (hooks.onGoToSuggestion) {\n        const result = hooks.onGoToSuggestion(\n          i,\n          this.suggestions[i],\n          this.query,\n          this.queryTerms\n        );\n        if (result === true) return;\n      }\n      if (this.suggestions[i].external) {\n        window.open(\n          this.suggestions[i].path + this.suggestions[i].slug,\n          \"_blank\"\n        );\n      } else {\n        this.$router.push(this.suggestions[i].path + this.suggestions[i].slug);\n        this.query = \"\";\n        this.focusIndex = 0;\n        this.focused = false;\n\n        // reset query param\n        const params = this.urlParams();\n        if (params) {\n          params.delete(\"query\");\n          const paramsString = params.toString();\n          const newState =\n            window.location.pathname + (paramsString ? `?${paramsString}` : \"\");\n          history.pushState(null, \"\", newState);\n        }\n      }\n    },\n    focus(i) {\n      this.focusIndex = i;\n    },\n    unfocus() {\n      this.focusIndex = -1;\n    },\n    urlParams() {\n      if (!window.location.search) {\n        return null;\n      }\n      return new URLSearchParams(window.location.search);\n    },\n    expandSearchInput() {\n      this.$refs.input.focus();\n      this.focused = true;\n    },\n  },\n};\n\nfunction highlight(str, strHighlight) {\n  if (!str) return {};\n  if (!strHighlight) return { prefix: str };\n  const [start, length] = strHighlight;\n  const end = start + length;\n\n  const prefix = str.slice(0, start);\n  const highlightedContent = str.slice(start, end);\n  const suffix = str.slice(end);\n  return { prefix, highlightedContent, suffix };\n\n  // return `${prefix}<span class=\"highlight\">${highlightedContent}</span>${suffix}`\n}\n</script>\n\n<style lang=\"stylus\">\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 1rem;\n\n  input {\n    background-color: var(--vp-c-bg);\n    transition: background-color 0.5s;\n    cursor: text;\n    width: 10rem;\n    height: 2rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: none;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background-size: 1.2rem;\n\n    &::placeholder {\n      transition: color 0.2s ease;\n    }\n\n    &:focus {\n      cursor: auto;\n      border-color: var(--c-brand);\n\n      &::placeholder {\n        color: var(--c-brand);\n      }\n\n      &~ .search-icon {\n        color: var(--c-brand);\n      }\n    }\n\n    &.focused {\n      // border-bottom: 1px solid darken(var(--vp-c-divider-light), 10%);\n      // border: 1px solid darken(var(--vp-c-divider-light), 10%);\n      // border-radius: 1rem;\n    }\n  }\n\n  .search-icon {\n    color: var(--vp-c-text-2);\n    transition: color 0.5s;\n    fill: currentColor;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    position: absolute;\n    top: 5px;\n    left: 3px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n\n  .search-command {\n    margin-right: 1rem;\n  }\n\n  .suggestions {\n    background-color: var(--vp-c-bg);\n    min-width: 500px;\n    max-width: 700px;\n    max-height: 600px;\n    position: absolute;\n    top: 2rem;\n    box-shadow: var(--vp-shadow-3);\n    border-radius: 6px;\n    padding: 0.4rem;\n    list-style-type: none;\n    overflow: scroll;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    letter-spacing: 0.2px;\n    line-height: 1.4;\n    // padding 0.4rem 0.6rem\n    border-radius: 4px;\n    cursor: pointer;\n    width: 100%;\n\n    a {\n      display: block;\n      white-space: normal;\n      color: $textColor;\n      width: 100%;\n\n      .parent-page-title {\n        color: white;\n        font-weight: 600;\n        background-color: var(--c-brand);\n        padding: 5px;\n      }\n\n      .suggestion-row {\n        border-collapse: collapse;\n        width: 100%;\n        display: table;\n\n        .page-title {\n          font-size: rem;\n          width: 35%;\n          border: 1px solid $borderColor;\n          background: #f5f5f5;\n          border-left: none;\n          display: table-cell;\n          text-align: right;\n          padding: 5px;\n          font-weight: bolder;\n        }\n\n        .suggestion-content {\n          .highlight {\n            color: #000;\n            margin: 0 3px;\n            padding: 0 3px;\n            border-radius: 3px;\n            background: rgba(59, 72, 206, 0.2);\n          }\n\n          border: 1px solid $borderColor;\n          font-weight: 400;\n          border-right: none;\n          width: 65%;\n          display: table-cell;\n          padding: 10px;\n\n          .header {\n            font-weight: 600;\n          }\n        }\n      }\n    }\n\n    &.focused {\n      background-color: #f3f4f5;\n    }\n  }\n}\n\n.dark .search-box .suggestions {\n  background: #fff;\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box {\n    input {\n      cursor: pointer;\n      width: 0;\n      border-color: transparent;\n      position: relative;\n\n      &:focus {\n        cursor: text;\n        left: 0;\n        width: 10rem;\n      }\n    }\n\n    .suggestions {\n      background-color: ar(--vp-c-bg);\n      min-width: 100vw;\n      max-width: 100vw;\n    }\n\n    .search-command {\n      display: none !important;\n    }\n  }\n}\n\n// Match IE11\n@media all and (-ms-high-contrast: none) {\n  .search-box input {\n    height: 2rem;\n  }\n}\n\n@media (max-width: $MQNarrow) and (min-width: $MQMobile) {\n  .search-box {\n    .suggestions {\n      left: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    input {\n      left: 1rem;\n    }\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n</style>\n"]}]}